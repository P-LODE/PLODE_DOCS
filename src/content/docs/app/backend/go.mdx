---
title: Go (Gin)
description: Go 언어를 위한 빠른 웹 프레임워크
---

Gin은 Go로 작성된 고성능 HTTP 웹 프레임워크로, 뛰어난 성능과 생산성을 제공합니다.

## 주요 특징

- **고성능**: 매우 빠른 HTTP 라우터
- **미들웨어 지원**: 확장 가능한 미들웨어 시스템
- **JSON 검증**: 내장된 검증 기능
- **에러 관리**: 효율적인 에러 핸들링
- **라우팅 그룹**: 체계적인 라우트 구성

## 설치하기

```bash
go mod init myapp
go get -u github.com/gin-gonic/gin
```

## 기본 예제

```go
package main

import (
    "github.com/gin-gonic/gin"
    "net/http"
)

func main() {
    r := gin.Default()
    
    r.GET("/", func(c *gin.Context) {
        c.JSON(http.StatusOK, gin.H{
            "message": "안녕하세요, Gin!",
        })
    })
    
    r.Run(":8080")
}
```

## RESTful API

```go
package main

import (
    "github.com/gin-gonic/gin"
    "net/http"
)

type User struct {
    ID    uint   `json:"id"`
    Name  string `json:"name" binding:"required"`
    Email string `json:"email" binding:"required,email"`
}

var users = []User{
    {ID: 1, Name: "홍길동", Email: "hong@example.com"},
    {ID: 2, Name: "김철수", Email: "kim@example.com"},
}

func main() {
    r := gin.Default()
    
    api := r.Group("/api/v1")
    {
        api.GET("/users", getUsers)
        api.GET("/users/:id", getUser)
        api.POST("/users", createUser)
        api.PUT("/users/:id", updateUser)
        api.DELETE("/users/:id", deleteUser)
    }
    
    r.Run(":8080")
}

func getUsers(c *gin.Context) {
    c.JSON(http.StatusOK, users)
}

func getUser(c *gin.Context) {
    id := c.Param("id")
    
    for _, user := range users {
        if fmt.Sprint(user.ID) == id {
            c.JSON(http.StatusOK, user)
            return
        }
    }
    
    c.JSON(http.StatusNotFound, gin.H{"error": "사용자를 찾을 수 없습니다"})
}

func createUser(c *gin.Context) {
    var newUser User
    
    if err := c.ShouldBindJSON(&newUser); err != nil {
        c.JSON(http.StatusBadRequest, gin.H{"error": err.Error()})
        return
    }
    
    newUser.ID = uint(len(users) + 1)
    users = append(users, newUser)
    
    c.JSON(http.StatusCreated, newUser)
}
```

## 미들웨어

```go
func Logger() gin.HandlerFunc {
    return func(c *gin.Context) {
        t := time.Now()
        
        // 다음 핸들러 실행
        c.Next()
        
        // 요청 처리 후
        latency := time.Since(t)
        status := c.Writer.Status()
        
        log.Printf("[%s] %s %d %v", c.Request.Method, c.Request.URL.Path, status, latency)
    }
}

func Auth() gin.HandlerFunc {
    return func(c *gin.Context) {
        token := c.GetHeader("Authorization")
        
        if token == "" {
            c.JSON(http.StatusUnauthorized, gin.H{"error": "인증이 필요합니다"})
            c.Abort()
            return
        }
        
        // 토큰 검증 로직
        c.Next()
    }
}

// 사용
r.Use(Logger())
r.Use(Auth())
```

## 데이터베이스 연동 (GORM)

```go
import (
    "gorm.io/driver/postgres"
    "gorm.io/gorm"
)

type User struct {
    gorm.Model
    Name  string `gorm:"not null"`
    Email string `gorm:"uniqueIndex;not null"`
}

var db *gorm.DB

func initDB() {
    dsn := "host=localhost user=postgres password=password dbname=mydb port=5432"
    var err error
    db, err = gorm.Open(postgres.Open(dsn), &gorm.Config{})
    if err != nil {
        panic("데이터베이스 연결 실패")
    }
    
    db.AutoMigrate(&User{})
}

func getUsers(c *gin.Context) {
    var users []User
    db.Find(&users)
    c.JSON(http.StatusOK, users)
}

func createUser(c *gin.Context) {
    var user User
    if err := c.ShouldBindJSON(&user); err != nil {
        c.JSON(http.StatusBadRequest, gin.H{"error": err.Error()})
        return
    }
    
    db.Create(&user)
    c.JSON(http.StatusCreated, user)
}
```

## 파일 업로드

```go
func uploadFile(c *gin.Context) {
    file, err := c.FormFile("file")
    if err != nil {
        c.JSON(http.StatusBadRequest, gin.H{"error": "파일을 찾을 수 없습니다"})
        return
    }
    
    dst := "./uploads/" + file.Filename
    if err := c.SaveUploadedFile(file, dst); err != nil {
        c.JSON(http.StatusInternalServerError, gin.H{"error": "파일 저장 실패"})
        return
    }
    
    c.JSON(http.StatusOK, gin.H{"message": "파일 업로드 성공", "filename": file.Filename})
}

// 라우트
r.POST("/upload", uploadFile)
```

## 에러 핸들링

```go
func errorHandler() gin.HandlerFunc {
    return func(c *gin.Context) {
        c.Next()
        
        if len(c.Errors) > 0 {
            err := c.Errors.Last()
            c.JSON(http.StatusInternalServerError, gin.H{
                "error": err.Error(),
            })
        }
    }
}

r.Use(errorHandler())
```

## 언제 사용하나요?

- 고성능 API 서버
- 마이크로서비스
- 실시간 시스템
- 클라우드 네이티브 애플리케이션
- 높은 동시성이 필요한 서비스

## 추가 자료

- [Gin 공식 문서](https://gin-gonic.com)
- [Go 공식 문서](https://go.dev)

