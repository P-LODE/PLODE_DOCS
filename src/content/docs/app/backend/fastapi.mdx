---
title: FastAPI
description: 현대적이고 빠른 Python 웹 프레임워크
---

FastAPI는 Python 3.7+의 표준 타입 힌트를 기반으로 한 현대적이고 빠른 웹 프레임워크입니다.

## 주요 특징

- **빠른 성능**: NodeJS와 Go에 필적하는 성능
- **자동 문서화**: Swagger UI와 ReDoc 자동 생성
- **타입 힌트**: Pydantic을 통한 데이터 유효성 검사
- **비동기 지원**: async/await 네이티브 지원
- **빠른 개발**: 직관적이고 사용하기 쉬움

## 설치하기

```bash
pip install fastapi uvicorn[standard]
```

## 기본 예제

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
async def root():
    return {"message": "안녕하세요, FastAPI!"}

@app.get("/items/{item_id}")
async def read_item(item_id: int, q: str = None):
    return {"item_id": item_id, "q": q}

# 실행: uvicorn main:app --reload
```

## Pydantic 모델

```python
from pydantic import BaseModel, EmailStr
from typing import Optional

class User(BaseModel):
    name: str
    email: EmailStr
    age: Optional[int] = None
    is_active: bool = True

@app.post("/users/")
async def create_user(user: User):
    return user

@app.get("/users/{user_id}", response_model=User)
async def read_user(user_id: int):
    return {"name": "홍길동", "email": "hong@example.com"}
```

## 데이터베이스 연동

```python
from sqlalchemy import create_engine, Column, Integer, String
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker

DATABASE_URL = "sqlite:///./test.db"

engine = create_engine(DATABASE_URL)
SessionLocal = sessionmaker(bind=engine)
Base = declarative_base()

class UserDB(Base):
    __tablename__ = "users"
    
    id = Column(Integer, primary_key=True, index=True)
    name = Column(String)
    email = Column(String, unique=True, index=True)

Base.metadata.create_all(bind=engine)

@app.post("/users/")
async def create_user(user: User):
    db = SessionLocal()
    db_user = UserDB(**user.dict())
    db.add(db_user)
    db.commit()
    db.refresh(db_user)
    db.close()
    return db_user
```

## 의존성 주입

```python
from fastapi import Depends, HTTPException

def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()

@app.get("/users/")
async def read_users(skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):
    users = db.query(UserDB).offset(skip).limit(limit).all()
    return users
```

## 인증

```python
from fastapi import Depends, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

@app.post("/token")
async def login(form_data: OAuth2PasswordRequestForm = Depends()):
    user = authenticate_user(form_data.username, form_data.password)
    if not user:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="잘못된 인증 정보",
        )
    return {"access_token": user.email, "token_type": "bearer"}

@app.get("/users/me")
async def read_users_me(token: str = Depends(oauth2_scheme)):
    return {"token": token}
```

## WebSocket

```python
from fastapi import WebSocket

@app.websocket("/ws")
async def websocket_endpoint(websocket: WebSocket):
    await websocket.accept()
    while True:
        data = await websocket.receive_text()
        await websocket.send_text(f"메시지: {data}")
```

## 언제 사용하나요?

- 고성능 RESTful API
- 머신러닝 모델 서빙
- 실시간 데이터 처리
- 마이크로서비스 아키텍처
- 빠른 프로토타입 개발

## 추가 자료

- [공식 문서](https://fastapi.tiangolo.com)
- [FastAPI 튜토리얼](https://fastapi.tiangolo.com/tutorial/)

